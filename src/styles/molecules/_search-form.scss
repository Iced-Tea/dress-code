@import "../core/core";

@mixin dc-search-form-selectors {
    //  ---------------------------------------------------------------------------
    //
    //  Defines a simple search form
    //
    //  ---------------------------------------------------------------------------

    //  = INPUT & BUTTON
    //  ---------------------------------------------------------------------------

    .dc-search-form {
        display: inline-block;
        position: relative;
        margin-bottom: $dc-space150;
    }

    .dc-search-form__input {
        -webkit-appearance: none;

        .no-touch &[type='search'],
        .touch &[type='search'] {
            margin: 0;
        }
    }

    .dc-search-form__btn {
        position: absolute;
        top: 0;
        right: 0;
        margin: 0;
        padding: 0;
        // scss-lint:disable BorderZero
        border: none;
        // scss-lint:enable BorderZero
        background: transparent;

        .dc-svg,
        .dc-img {
            display: block;
            margin-right: 0;
        }

        .no-touch &:hover,
        .touch &:active,
        &:focus {
            background: transparent;
            box-shadow: none;

            [fill^='#'] {
                fill: $dc-blue40;
            }

            [stroke^='#'] {
                stroke: $dc-blue40;
            }
        }
    }

    //  = AUTOSUGGEST
    //  ---------------------------------------------------------------------------

    .dc-suggest {
        position: absolute;
        left: 0;
        min-width: 100%;
        margin: 0;
        padding: 0;
        transform: translateY(-4px);
        transition: transform .3s ease-out, opacity .2s;
        border: 1px solid $dc-gray60;
        border-radius: 0 0 2px 2px;
        background: $dc-white;
        // scss-lint:disable ColorVariable
        box-shadow: 0 1px 1px rgba(0, 0, 0, .2);
        // scss-lint:enable ColorVariable
        opacity: 0;
        z-index: 800;
        list-style-type: none;
        pointer-events: none;
    }

    .dc-suggest__item {
        display: flex;
        padding: 0 $dc-space75;
        color: $dc-text-color;
        line-height: $dc-touch-size;
        white-space: nowrap;

        .no-touch &:hover,
        .touch &:active {
            background: desaturate(lighten($dc-blue70, 10%), 10%);
            color: $dc-text-color;
        }
    }

    .dc-suggest__item__img {
        position: relative;
        justify-content: center;
        width: 30%;
        max-width: 8rem;
        margin-right: $dc-space100;

        img {
            position: absolute;
            top: calc(50% - 1rem);
            width: 100%;
            height: 2rem;
        }
    }

    .dc-suggest__item__label {
        width: calc(70% - 1.2rem);
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
    }

    .dc-search-form__input:focus ~ .dc-suggest,
    .dc-suggest:hover {
        transform: translateY(0);
        opacity: 1;
        pointer-events: auto;
    }

}
